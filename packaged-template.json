AWSTemplateFormatVersion: '2010-09-09'
Parameters:
  SlackChannel:
    Description: Channel where anon is going to be linked to
    Type: String
  SlackWebHookUrl:
    Description: Slack Web Hook URL
    Type: String
Resources:
  MyAPI:
    Properties:
      DefinitionUri: s3://anon-cicd/c0a54f6af3db7f1604c424a8a93c92fd
      StageName: dev
    Type: AWS::Serverless::Api
  MyFunction:
    Properties:
      CodeUri: s3://anon-cicd/a7521ffb1b7d3283e8194aceb3251e17
      Environment:
        Variables:
          SLACK_CHANNEL:
            Ref: SlackChannel
          SLACK_WEBHOOK_URL:
            Ref: SlackWebHookUrl
      Handler: app.anonamize
      Runtime: nodejs6.10
    Type: AWS::Serverless::Function
Transform: AWS::Serverless-2016-10-31
